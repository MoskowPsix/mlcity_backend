"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3991],{4635:(e,t,a)=>{a.d(t,{Z:()=>d});var s=a(6252);const r={class:"flex items-center justify-center min-h-screen p-5 bg-gray-100 min-w-screen dark:bg-gray-900"},l=[(0,s._)("div",{class:"flex space-x-2 animate-pulse"},[(0,s._)("div",{class:"w-3 h-3 bg-gray-500 rounded-full"}),(0,s._)("div",{class:"w-3 h-3 bg-gray-500 rounded-full"}),(0,s._)("div",{class:"w-3 h-3 bg-gray-500 rounded-full"})],-1)],o={name:"Loader"},d=(0,a(3744).Z)(o,[["render",function(e,t,a,o,d,i){return(0,s.wg)(),(0,s.iD)("div",r,l)}]])},3991:(e,t,a)=>{a.r(t),a.d(t,{default:()=>gt});var s=a(6252),r=a(3577);const l={class:"container px-4 mx-auto"},o={key:2,class:"flex flex-col"},d={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},i={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},n={class:"overflow-hidden border border-gray-200 dark:border-gray-700 md:rounded-lg"},c={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},g={class:"bg-gray-50 dark:bg-gray-700"},u=(0,s._)("th",{scope:"col",class:"py-3.5 px-4 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400"},[(0,s._)("div",{class:"flex items-center gap-x-3"},[(0,s._)("button",{class:"flex items-center gap-x-2"},[(0,s._)("span",null,"ID"),(0,s._)("svg",{class:"h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})])])])],-1),h=(0,s._)("th",{scope:"col",class:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400"}," Зарегестрирован ",-1),p=(0,s._)("th",{scope:"col",class:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400"}," Роль ",-1),x=(0,s._)("th",{scope:"col",class:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400"}," Name and email ",-1),y=(0,s._)("th",{scope:"col",class:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400"}," Обновлено ",-1),m={scope:"col",class:"relative py-3.5 px-4"},_={class:"flex justify-center bg text-gray-200"},w={class:"px-4 py-4 text-sm font-medium text-gray-700 dark:text-gray-200 whitespace-nowrap"},f={class:"inline-flex items-center gap-x-3"},b={class:"px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"},k={class:"px-4 py-4 text-sm font-medium text-gray-700 whitespace-nowrap"},v={class:"inline-flex items-center px-3 py-1 rounded-full gap-x-2 text-emerald-500 bg-gray-100/60 dark:bg-gray-700/20 dark:bg-gray-800"},M={key:0,class:"bg-red-200 text-red-600 py-1 px-3 rounded-full text-xs"},U={key:1,class:"bg-green-200 text-green-600 py-1 px-3 rounded-full text-xs"},C={class:"px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"},D={class:"flex items-center gap-x-2"},Z=(0,s._)("img",{class:"object-cover w-8 h-8 rounded-full",src:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=880&q=80",alt:""},null,-1),z={class:"text-sm font-medium text-gray-800 dark:text-white"},j={class:"text-xs font-normal text-gray-600 dark:text-gray-400"},L={class:"px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"},q={class:"px-4 py-4 text-sm whitespace-nowrap"},H={class:"flex items-center gap-x-6"},V=["onClick"],R=["onClick"],P={class:"flex items-center justify-between mt-6"},B={key:0},I=["onClick"],E=[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5 rtl:-scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),(0,s._)("span",null," Назад ",-1)],N={key:0,class:"items-center hidden md:flex gap-x-3"},S=["onClick"],A={key:1},T=["onClick"],Y={key:1},K=["onClick"],W=[(0,s._)("span",null," Вперёд ",-1),(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5 rtl:-scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1)];var F=a(9305),G=a(2861),Q=a(6985);const $=(0,F.Q_)("usersStore",{actions:{async getUsers(e="",t="",a="",s=10){this.loader=!0,await this.getPage("listUsers?limit="+s+"&name="+e+"&email="+t+"&createdDateStart="+a.replace("~","&cteatedDateEnd=")),0===this.users.users.total&&this.toast.warning("Пользователи не были найдены")},getUserId(e){return G.Z.get("users/"+e).then((t=>e=t.data.user.name)).catch((e=>this.toast.error("Метод загрузки пользователя по ID не работает!"))),console.log(e),e},async getPage(e){this.loader=!0,await G.Z.get(e).then((e=>{this.users=e.data,this.links=e.data.users.links})).catch((e=>this.toast.error("Ошибка, страница не получена!"))),this.loader=!1},async createUser(e,t,a,s){this.loader=!0,console.log(e+" "+t+" "+a),await G.Z.post("register/",{name:e,email:t,password:a,password_confirmation:a}).then((async a=>{200===a.status&&(s&&await G.Z.put("updateRoleUser/"+a.data.user.id+"/"+s).then((async t=>{await G.Z.get("getRole/"+t.data.update_role).then((t=>this.toast.success("Пользователю "+e+", назначена роль "+t.data.role.name))).catch((e=>console.log(e)))})).catch((e=>this.toast.warning("Ошибка при создании пользователя!"))),this.toast.success("Ползователь: "+e+" с почтой: "+t+" успешно создан!"),this.closeModal(),console.log(a),this.loader=!1)})).catch((e=>{422===e.response.status&&(this.toast.warning(JSON.stringify(e.response.data.message)),this.loader=!1)})),this.closeModal(),await this.getPage(this.users.users.first_page_url),this.loader=!1},async delUsers(){this.loader=!0;const e="deleteUsers/"+this.user_del.id;await G.Z.delete(e).then(this.toast.success("Пользователь удалён!")).catch((e=>this.toast.warning(e.message))),await this.getPage(this.users.users.first_page_url),this.closeModalDel(),this.loader=!1},async updateUser(e,t,a){this.loader=!0,e&&await G.Z.put("updateUsers/"+this.user_upd_id.id+"?name="+e).then((e=>this.toast.success("Обновлено: имя - "+e.data.user.name))).catch((e=>this.toast.error("Name update: "+e.message))),t&&await G.Z.put("updateUsers/"+this.user_upd_id.id+"?email="+t).then((e=>this.toast.success("Обновлено: почта - "+e.data.user.email))).catch((e=>this.toast.error("Email update: "+e.message))),a&&await G.Z.put("updateRoleUser/"+this.user_upd_id.id+"/"+a).then((async e=>{await G.Z.get("getRole/"+e.data.update_role).then((t=>e.data.update_role=t.data.role.name)).catch((e=>this.toast.warning("Ошибка получения получения имени роли!"+e.message))),await G.Z.get("users/"+this.user_upd_id.id).then((t=>e.data.user=t.data.user.name)).catch((e=>this.toast.warning("Ошибка получения имени пользователя! "+e.message))),this.toast.success("Пользователь: "+e.data.user+", теперь имеет роль "+e.data.update_role)})).catch((e=>this.toast.error("Role update: "+e.message))),await this.getPage(this.users.users.first_page_url),this.closeModalUpd(),this.loader=!1},async showModal(){this.show_modal_users=await!0},async closeModal(){this.show_modal_users=await!1,this.loader=!1},async closeModalDel(){this.user_del="",this.del_modal_users=await!1},async showModalDel(e,t,a){this.user_del={id:e,name:t,email:a},this.del_modal_users=await!0},async showModalUpd(e,t,a){this.user_upd_id={id:e,name:t,email:a},this.user_upd=!0},async closeModalUpd(){this.user_upd_id="",this.user_upd=!1}},state:()=>({users:[],loader:!1,user_id:"",show_modal_users:!1,del_modal_users:!1,user_del:"",user_upd:"",user_upd_id:"",links:[],types:[],bodyParameters:{key:"value"},toast:(0,Q.E)()}),getters:{}});var J=a(4908),O=a(9578),X=a(4635),ee=a(9963);const te={class:"border p-6 grid grid-cols-1 gap-6 border-gray-300 dark:bg-gray-700 shadow-lg rounded-lg dark:border-gray-800"},ae={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},se={class:"grid grid-cols-2 gap-2 rounded"},re={class:"flex rounded bg-gray-200 dark:bg-gray-800 items-center p-2"},le=(0,s._)("svg",{class:"fill-current text-gray-500 mr-2 w-5 dark:text-gray-200",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[(0,s._)("path",{class:"heroicon-ui",d:"M12 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10zm0-2a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm9 11a1 1 0 0 1-2 0v-2a3 3 0 0 0-3-3H8a3 3 0 0 0-3 3v2a1 1 0 0 1-2 0v-2a5 5 0 0 1 5-5h8a5 5 0 0 1 5 5v2z"})],-1),oe={class:"flex rounded bg-gray-200 dark:bg-gray-800 items-center p-2"},de=(0,s._)("svg",{class:"fill-current text-gray-500 dark:text-gray-200 mr-2 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[(0,s._)("path",{class:"heroicon-ui",d:"M12 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM5.68 7.1A7.96 7.96 0 0 0 4.06 11H5a1 1 0 0 1 0 2h-.94a7.95 7.95 0 0 0 1.32 3.5A9.96 9.96 0 0 1 11 14.05V9a1 1 0 0 1 2 0v5.05a9.96 9.96 0 0 1 5.62 2.45 7.95 7.95 0 0 0 1.32-3.5H19a1 1 0 0 1 0-2h.94a7.96 7.96 0 0 0-1.62-3.9l-.66.66a1 1 0 1 1-1.42-1.42l.67-.66A7.96 7.96 0 0 0 13 4.06V5a1 1 0 0 1-2 0v-.94c-1.46.18-2.8.76-3.9 1.62l.66.66a1 1 0 0 1-1.42 1.42l-.66-.67zM6.71 18a7.97 7.97 0 0 0 10.58 0 7.97 7.97 0 0 0-10.58 0z"})],-1),ie={class:"flex justify-center text-gray-200"},ne={name:"searchUsers",setup:()=>({user_name:"",user_email:"",time:"",user_store:$()}),methods:{clear(){this.user_email="",this.user_name="",this.time=""}},components:{VueTailwindDatepicker:a(7419).Z}};var ce=a(3744);const ge=(0,ce.Z)(ne,[["render",function(e,t,a,r,l,o){const d=(0,s.up)("VueTailwindDatepicker");return(0,s.wg)(),(0,s.iD)("div",te,[(0,s._)("div",ae,[(0,s._)("div",se,[(0,s._)("div",re,[le,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.user_name=t),placeholder:"Название мероприятия...",class:"bg-gray-200 dark:bg-gray-800 text-gray-200 dark:text-gray-200 max-w-full focus:outline-none text-gray-700"},null,512),[[ee.nr,e.user_name]])]),(0,s._)("div",oe,[de,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.user_email=t),placeholder:"Спонсор мероприятия",class:"bg-gray-200 dark:bg-gray-800 dark:text-gray-200 text-gray-200 max-w-full focus:outline-none text-gray-700"},null,512),[[ee.nr,e.user_email]])])]),(0,s.Wm)(d,{modelValue:e.time,"onUpdate:modelValue":t[2]||(t[2]=t=>e.time=t),placeholder:"Когда был зарегистрирован..."},null,8,["modelValue"])]),(0,s._)("div",ie,[(0,s._)("button",{onClick:t[3]||(t[3]=t=>{e.user_store.getUsers(e.user_name,e.user_email,e.time),o.clear()}),class:"p-2 w-1/4 rounded-md bg-blue-800 text-blue-100"},"Найти")])])}]]),ue={class:"main-modal fixed w-full h-100 inset-0 z-50 overflow-hidden flex justify-center items-center animated fadeIn faster",style:{background:"rgba(0,0,0,.7)"}},he={class:"border border-green-400 shadow-lg modal-container bg-gray-100 dark:bg-gray-800 w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto"},pe={class:"modal-content py-6 text-left px-6"},xe={class:"flex justify-between items-center pb-3"},ye=(0,s._)("p",{class:"text-2xl font-bold text-gray-700 dark:text-gray-300"},"Создать пользователя",-1),me=[(0,s._)("svg",{class:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[(0,s._)("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1)],_e={class:"border border-gray-300 dark:border-gray-800 p-6 grid grid-cols-1 gap-6 dark:bg-gray-700 shadow-lg rounded-lg"},we={class:"flex justify-center"},fe={class:"flex rounded bg-gray-300 dark:bg-gray-800 items-center p-2"},be={class:"flex justify-center"},ke={class:"flex rounded bg-gray-300 dark:bg-gray-800 items-center p-2"},ve={class:"flex justify-center"},Me={class:"flex rounded bg-gray-300 dark:bg-gray-800 items-center p-2"},Ue={class:"flex justify-center text-gray-200"},Ce={class:"flex rounded bg-gray-300 dark:bg-gray-800 text-gray-500 items-center p-2 dark:text-gray-200"},De=(0,s._)("h1",null,"Роль пльзователя:",-1),Ze=["value"],ze={class:"flex justify-end pt-2"},je=(0,s.aZ)({setup(){const e=(0,J.Z)();return{store:$(),user_email:"",user_name:"",user_password:"",store_role:e,user_role:""}},methods:{closeModal(){this.store.closeModal()},createUser(e,t,a,s){this.store.createUser(e,t,a,s),user_name="",user_email="",user_password="",user_role=""}}}),Le=(0,ce.Z)(je,[["render",function(e,t,a,l,o,d){return(0,s.wg)(),(0,s.iD)("div",ue,[(0,s._)("div",he,[(0,s._)("div",pe,[(0,s.kq)("Title"),(0,s._)("div",xe,[ye,(0,s._)("div",{onClick:t[0]||(t[0]=t=>e.closeModal()),class:"modal-close cursor-pointer z-50"},me)]),(0,s.kq)("Body"),(0,s._)("div",_e,[(0,s._)("div",we,[(0,s._)("div",fe,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.user_name=t),placeholder:"Имя пользователя...",class:"bg-gray-300 dark:bg-gray-800 text-gray-500 dark:text-gray-200 max-w-full focus:outline-none"},null,512),[[ee.nr,e.user_name]])])]),(0,s._)("div",be,[(0,s._)("div",ke,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.user_email=t),placeholder:"Email пользователя...",class:"bg-gray-300 dark:bg-gray-800 text-gray-500 dark:text-gray-200 max-w-full focus:outline-none"},null,512),[[ee.nr,e.user_email]])])]),(0,s._)("div",ve,[(0,s._)("div",Me,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=t=>e.user_password=t),placeholder:"Пароль пользователя...",class:"bg-gray-300 dark:bg-gray-800 text-gray-500 dark:text-gray-200 max-w-full focus:outline-none"},null,512),[[ee.nr,e.user_password]])])]),(0,s._)("div",Ue,[(0,s._)("div",Ce,[De,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.user_role=t),class:"bg-gray-300 dark:bg-gray-800 text-gray-500 dark:text-gray-200 max-w-full focus:outline-none"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.store_role.role.data,(e=>((0,s.wg)(),(0,s.iD)("option",{value:e.id},(0,r.zw)(e.name),9,Ze)))),256))],512),[[ee.bM,e.user_role]])])])]),(0,s.kq)("Footer"),(0,s._)("div",ze,[(0,s._)("button",{onClick:t[5]||(t[5]=t=>e.closeModal()),class:"px-4 bg-gray-400 p-3 rounded-lg text-black hover:bg-gray-300"},"Отмена"),(0,s._)("button",{onClick:t[6]||(t[6]=t=>e.createUser(e.user_name,e.user_email,e.user_password,e.user_role)),class:"focus:outline-none px-4 bg-teal-500 p-3 ml-3 rounded-lg text-white hover:bg-teal-400"},"Создать")])])])])}]]),qe={class:"main-modal fixed w-full h-100 inset-0 z-50 overflow-hidden flex justify-center items-center animated fadeIn faster",style:{background:"rgba(0,0,0,.2)"}},He={class:"border border-red-400 shadow-lg modal-container bg-gray-100 dark:bg-gray-800 w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto"},Ve={class:"modal-content py-6 text-left px-6"},Re={class:"flex justify-between items-center pb-3"},Pe=(0,s._)("p",{class:"text-2xl font-bold text-gray-700 dark:text-gray-300"},"Удалить пользователя?",-1),Be=[(0,s._)("svg",{class:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[(0,s._)("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1)],Ie={class:"text-1xl font-bold text-gray-500 dark:text-gray-300"},Ee=(0,s._)("br",null,null,-1),Ne=(0,s._)("br",null,null,-1),Se={class:"flex justify-end pt-2"},Ae=(0,s.aZ)({setup:()=>({store:$()}),methods:{closeModal(){this.store.closeModalDel()},DelUser(){this.store.delUsers()}}}),Te=(0,ce.Z)(Ae,[["render",function(e,t,a,l,o,d){return(0,s.wg)(),(0,s.iD)("div",qe,[(0,s._)("div",He,[(0,s._)("div",Ve,[(0,s.kq)("Title"),(0,s._)("div",Re,[Pe,(0,s._)("div",{onClick:t[0]||(t[0]=t=>e.closeModal()),class:"modal-close cursor-pointer z-50"},Be)]),(0,s.kq)("Body"),(0,s.WI)(e.$slots,"default"),(0,s._)("p",Ie,[(0,s.Uk)(" Имя: "+(0,r.zw)(e.store.user_del.name)+" ",1),Ee,(0,s.Uk)(" ID: "+(0,r.zw)(e.store.user_del.id)+" ",1),Ne,(0,s.Uk)(" Email: "+(0,r.zw)(e.store.user_del.email),1)]),(0,s.kq)("Footer"),(0,s._)("div",Se,[(0,s._)("button",{onClick:t[1]||(t[1]=t=>e.closeModal()),class:"px-4 bg-gray-400 p-3 rounded-lg text-black hover:bg-gray-300"},"Отмена"),(0,s._)("button",{onClick:t[2]||(t[2]=t=>e.DelUser()),class:"focus:outline-none px-4 bg-red-500 p-3 ml-3 rounded-lg text-grey-300 hover:bg-red-400"},"Удалить")])])])])}]]),Ye={class:"main-modal fixed w-full h-100 inset-0 z-50 overflow-hidden flex justify-center items-center animated fadeIn faster",style:{background:"rgba(0,0,0,.2)"}},Ke={class:"border border-blue-400 shadow-lg modal-container bg-gray-100 dark:bg-gray-800 w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto"},We={class:"modal-content py-6 text-left px-6"},Fe={class:"flex justify-between items-center pb-3"},Ge={class:"text-1xl font-bold text-gray-600 dark:text-gray-300"},Qe=(0,s._)("br",null,null,-1),$e=(0,s._)("br",null,null,-1),Je=(0,s._)("br",null,null,-1),Oe=[(0,s._)("svg",{class:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[(0,s._)("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1)],Xe={class:"border border-gray-300 dark:border-gray-800 p-6 grid grid-cols-1 gap-6 dark:bg-gray-700 shadow-lg rounded-lg"},et={class:"flex justify-center"},tt={class:"flex rounded bg-gray-300 dark:bg-gray-800 items-center p-2"},at={class:"flex justify-center text-gray-200"},st={class:"flex rounded bg-gray-300 dark:bg-gray-800 items-center p-2"},rt={class:"flex justify-center text-gray-200"},lt={class:"flex rounded bg-gray-300 dark:bg-gray-800 text-gray-600 dark:text-gray-200 items-center p-2"},ot=["value"],dt={class:"flex justify-end pt-2"},it=(0,s.aZ)({setup:()=>({store:$(),store_role:(0,J.Z)(),user_email:"",user_name:"",user_role:""})}),nt=(0,ce.Z)(it,[["render",function(e,t,a,l,o,d){return(0,s.wg)(),(0,s.iD)("div",Ye,[(0,s._)("div",Ke,[(0,s._)("div",We,[(0,s.kq)("Title"),(0,s._)("div",Fe,[(0,s._)("p",Ge,[(0,s.Uk)("Редактировать пользователя "),Qe,(0,s.Uk)(" Имя: "+(0,r.zw)(e.store.user_upd_id.name)+" ",1),$e,(0,s.Uk)(" ID: "+(0,r.zw)(e.store.user_upd_id.id)+" ",1),Je,(0,s.Uk)(" Email: "+(0,r.zw)(e.store.user_upd_id.email),1)]),(0,s._)("div",{onClick:t[0]||(t[0]=t=>e.closeModal()),class:"modal-close cursor-pointer z-50"},Oe)]),(0,s.kq)("Body"),(0,s._)("div",Xe,[(0,s._)("div",et,[(0,s._)("div",tt,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.user_name=t),placeholder:"Имя пользователя...",class:"bg-gray-300 dark:bg-gray-800 text-gray-600 dark:text-gray-200 max-w-full focus:outline-none"},null,512),[[ee.nr,e.user_name]])])]),(0,s._)("div",at,[(0,s._)("div",st,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.user_email=t),placeholder:"Email пользователя...",class:"bg-gray-300 dark:bg-gray-800 text-gray-600 dark:text-gray-200 max-w-full focus:outline-none"},null,512),[[ee.nr,e.user_email]])])]),(0,s._)("div",rt,[(0,s._)("div",lt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.user_role=t),class:"bg-gray-300 dark:bg-gray-800 text-gray-600 dark:text-gray-200 max-w-full focus:outline-none"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.store_role.role.data,(e=>((0,s.wg)(),(0,s.iD)("option",{value:e.id},(0,r.zw)(e.name),9,ot)))),256))],512),[[ee.bM,e.user_role]])])])]),(0,s.kq)("Footer"),(0,s._)("div",dt,[(0,s._)("button",{onClick:t[4]||(t[4]=t=>e.store.closeModal()),class:"px-4 bg-gray-400 p-3 rounded-lg text-black hover:bg-gray-300"},"Отмена"),(0,s._)("button",{onClick:t[5]||(t[5]=t=>e.store.updateUser(e.user_name,e.user_email,e.user_role)),class:"focus:outline-none px-4 bg-blue-500 p-3 ml-3 rounded-lg text-white hover:bg-blue-400"},"Редактировать")])])])])}]]);(void 0).$APP_URL;const ct=(0,s.aZ)({setup(){const e=(0,O.q)();return{store:$(),pageN:"Вперёд &raquo;",pageP:"&laquo; Назад",event_store:e}},methods:{localeDate:e=>new Date(e).toLocaleString()},components:{Loader:X.Z,SearchUsers:ge,Modal:Le,ModalDel:Te,ModalCreateUsers:nt}});$().getUsers(),(0,J.Z)().getRole();const gt=(0,ce.Z)(ct,[["render",function(e,t,a,F,G,Q){const $=(0,s.up)("SearchUsers"),J=(0,s.up)("Loader"),O=(0,s.up)("Modal"),X=(0,s.up)("ModalCreateUsers"),ee=(0,s.up)("ModalDel");return(0,s.wg)(),(0,s.iD)("section",l,[(0,s.Wm)($,{class:"my-1"}),!0===e.store.loader?((0,s.wg)(),(0,s.j4)(J,{key:0})):(0,s.kq)("v-if",!0),!0===e.store.show_modal_users?((0,s.wg)(),(0,s.j4)(O,{key:1})):(0,s.kq)("v-if",!0),!1===e.store.loader?((0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",d,[(0,s._)("div",i,[(0,s._)("div",n,[(0,s.kq)(" Начало полей таблицы  "),(0,s._)("table",c,[(0,s._)("thead",g,[(0,s._)("tr",null,[u,h,p,x,y,(0,s._)("th",m,[(0,s._)("div",_,[(0,s._)("button",{class:"p-2 w-1/8 rounded-md bg-green-800 text-green-100",onClick:t[0]||(t[0]=(...t)=>e.store.showModal&&e.store.showModal(...t))},"Создать пользователя")])])])]),(0,s.kq)(" Конец полей таблицы  "),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.store.users.users.data,(t=>((0,s.wg)(),(0,s.iD)("tbody",{class:"bg-white divide-y divide-gray-200 dark:divide-gray-700 dark:bg-gray-800",key:t.id},[(0,s._)("tr",null,[(0,s._)("td",w,[(0,s._)("div",f,[(0,s._)("span",null,(0,r.zw)(t.id),1)])]),(0,s._)("td",b,(0,r.zw)(e.localeDate(t.created_at)),1),(0,s._)("td",k,[(0,s._)("div",v,[0===t.roles.length?((0,s.wg)(),(0,s.iD)("h2",M,"Роль не определина")):t.roles[0].name?((0,s.wg)(),(0,s.iD)("h2",U,(0,r.zw)(t.roles[0].name),1)):(0,s.kq)("v-if",!0)])]),(0,s._)("td",C,[(0,s._)("div",D,[Z,(0,s._)("div",null,[(0,s._)("h2",z,(0,r.zw)(t.name),1),(0,s._)("p",j,(0,r.zw)(t.email),1)])])]),(0,s._)("td",L,(0,r.zw)(e.localeDate(t.updated_at)),1),(0,s._)("td",q,[(0,s._)("div",H,[(0,s.kq)(' <button class="text-gray-500 transition-colors duration-200 dark:hover:text-indigo-500 dark:text-gray-300 hover:text-indigo-500 focus:outline-none">\r\n                                            Подробнее(?)\r\n                                        </button> '),(0,s._)("button",{onClick:a=>e.store.showModalUpd(t.id,t.name,t.email),class:"text-blue-500 transition-colors duration-200 hover:text-indigo-500 focus:outline-none"}," Редактировать ",8,V),!0===e.store.user_upd?((0,s.wg)(),(0,s.j4)(X,{key:0})):(0,s.kq)("v-if",!0),(0,s._)("button",{onClick:a=>e.store.showModalDel(t.id,t.name,t.email),class:"text-red-500 transition-colors duration-200 hover:text-indigo-500 focus:outline-none"},"Удалить",8,R),!0===e.store.del_modal_users?((0,s.wg)(),(0,s.j4)(ee,{key:1})):(0,s.kq)("v-if",!0)])])])])))),128))])])])])])):(0,s.kq)("v-if",!0),(0,s._)("div",P,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.store.links,(t=>((0,s.wg)(),(0,s.iD)("div",null,[t.label===e.pageP?((0,s.wg)(),(0,s.iD)("div",B,[(0,s._)("a",{href:"#",onClick:a=>e.store.getPage(t.url),class:"flex items-center px-5 py-2 text-sm text-gray-700 capitalize transition-colors duration-200 bg-white border rounded-md gap-x-2 hover:bg-gray-100 dark:bg-gray-900 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-800"},E,8,I)])):(0,s.kq)("v-if",!0),(0,s._)("div",null,[!0===t.active?((0,s.wg)(),(0,s.iD)("div",N,[(0,s._)("a",{href:"#",onClick:a=>e.store.getPage(t.url),class:"px-2 py-1 text-sm text-blue-500 rounded-md dark:bg-gray-800 bg-blue-100/60"},(0,r.zw)(t.label),9,S)])):0==t.active&&t.label!==e.pageP&&t.label!==e.pageN?((0,s.wg)(),(0,s.iD)("div",A,[(0,s._)("a",{href:"#",onClick:a=>e.store.getPage(t.url),class:"px-2 py-1 text-sm text-gray-500 rounded-md dark:hover:bg-gray-800 dark:text-gray-300 hover:bg-gray-100"},(0,r.zw)(t.label),9,T)])):(0,s.kq)("v-if",!0)]),t.label===e.pageN?((0,s.wg)(),(0,s.iD)("div",Y,[(0,s._)("a",{href:"#",onClick:a=>e.store.getPage(t.url),class:"flex items-center px-5 py-2 text-sm text-gray-700 capitalize transition-colors duration-200 bg-white border rounded-md gap-x-2 hover:bg-gray-100 dark:bg-gray-900 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-800"},W,8,K)])):(0,s.kq)("v-if",!0)])))),256))])])}]])},4908:(e,t,a)=>{a.d(t,{Z:()=>o});var s=a(9305),r=a(2861),l=a(6985);const o=(0,s.Q_)("RoleStore",{state:()=>({toast:(0,l.E)(),role:[],role_id:"",ModalCreate:!1,ModalUpdate:!1,ModalDelete:!1,lader:!1}),actions:{async getRole(){this.loader=!0,await r.Z.get("allRole").then((e=>this.role=e)).catch((e=>this.toast.error("Ошибка, роль не получена!"))),this.loader=!1},async updateRole(e,t){await r.Z.put("updateRoleUser/"+t+"/"+e).then((e=>console.log(e))).catch((e=>this.toast.error("Ошибка, роль не обновлена!")))},async deleteRole(){this.loader=!0,await r.Z.delete("deleteRole/"+this.role_id).then((e=>this.toast.success("Роль с ID: "+this.role_id+", удалена!"))).catch((e=>this.toast.error("Ошибка, роль не обновлена!"))),this.getRole(),this.closeDeleteRole(),this.loader=!1},async updateRoleName(e){this.loader=!0,await r.Z.put("updateRole/"+this.role_id+"?name="+e).then((e=>this.toast.success("Роль переименована на "+e.data.role.name))).catch((e=>this.toast.error("Ошибка, имя не обновлена!"))),this.getRole(),this.closeUpdateModal(),this.loader=!1},async createRole(e){this.loader=!0,await r.Z.post("addRole/",{name:e}).then((e=>this.toast.success("Роль "+e.data.role.name+" создана!"))).catch((e=>this.toast.error("Ошибка, роль не создана!"))),this.getRole(),this.closeCreateModal(),this.loader=!1},async showCreateModal(){this.ModalCreate=!0},async showUpdateModal(e){this.role_id=e,this.ModalUpdate=!0},async showDeleteRole(e){this.role_id=e,this.ModalDelete=!0},async closeCreateModal(){this.ModalCreate=!1},async closeUpdateModal(){this.role_id="",this.ModalUpdate=!1},async closeDeleteRole(){this.ModalDelete=!1,this.role_id=""}}})}}]);